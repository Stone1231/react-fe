[{"D:\\github\\fullstack\\react-fe\\src\\index.js":"1","D:\\github\\fullstack\\react-fe\\src\\Navbar.js":"2","D:\\github\\fullstack\\react-fe\\src\\serviceWorker.js":"3","D:\\github\\fullstack\\react-fe\\src\\components\\Files.js":"4","D:\\github\\fullstack\\react-fe\\src\\services\\HomeService.js":"5","D:\\github\\fullstack\\react-fe\\src\\components\\Home.js":"6","D:\\github\\fullstack\\react-fe\\src\\components\\Auth.js":"7","D:\\github\\fullstack\\react-fe\\src\\components\\Error.js":"8","D:\\github\\fullstack\\react-fe\\src\\components\\User\\User.js":"9","D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\User.js":"10","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\App.js":"11","D:\\github\\fullstack\\react-fe\\src\\services\\api.js":"12","D:\\github\\fullstack\\react-fe\\src\\components\\User\\UserList.js":"13","D:\\github\\fullstack\\react-fe\\src\\components\\User\\UserSingle.js":"14","D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\UserList.js":"15","D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\UserSingle.js":"16","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Footer.js":"17","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\AddTodo.js":"18","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\VisibleTodoList.js":"19","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\FilterLink.js":"20","D:\\github\\fullstack\\react-fe\\src\\services\\ErrorService.js":"21","D:\\github\\fullstack\\react-fe\\src\\services\\AuthService.js":"22","D:\\github\\fullstack\\react-fe\\src\\services\\FileService.js":"23","D:\\github\\fullstack\\react-fe\\src\\services\\DeptService.js":"24","D:\\github\\fullstack\\react-fe\\src\\services\\ProjService.js":"25","D:\\github\\fullstack\\react-fe\\src\\components\\Base.js":"26","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\TodoList.js":"27","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Link.js":"28","D:\\github\\fullstack\\react-fe\\src\\services\\UserService.js":"29","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Todo.js":"30","D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\User.js":"31","D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\UserList.js":"32","D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\UserSingle.js":"33","D:\\github\\fullstack\\react-fe\\src\\stores\\index.js":"34","D:\\github\\fullstack\\react-fe\\src\\stores\\Todos\\reducer.js":"35","D:\\github\\fullstack\\react-fe\\src\\stores\\User\\reducer.js":"36","D:\\github\\fullstack\\react-fe\\src\\stores\\User\\actions.js":"37","D:\\github\\fullstack\\react-fe\\src\\stores\\Todos\\actions.js":"38"},{"size":685,"mtime":1608806269012,"results":"39","hashOfConfig":"40"},{"size":4420,"mtime":1608791867609,"results":"41","hashOfConfig":"40"},{"size":5086,"mtime":1590547468480,"results":"42","hashOfConfig":"40"},{"size":1816,"mtime":1601014537784,"results":"43","hashOfConfig":"40"},{"size":189,"mtime":1592451080968,"results":"44","hashOfConfig":"40"},{"size":334,"mtime":1601014537770,"results":"45","hashOfConfig":"40"},{"size":2137,"mtime":1601014476094,"results":"46","hashOfConfig":"40"},{"size":1265,"mtime":1601014537764,"results":"47","hashOfConfig":"40"},{"size":464,"mtime":1600744510140,"results":"48","hashOfConfig":"40"},{"size":2408,"mtime":1601014047171,"results":"49","hashOfConfig":"40"},{"size":293,"mtime":1608630154884,"results":"50","hashOfConfig":"40"},{"size":2848,"mtime":1600744938424,"results":"51","hashOfConfig":"40"},{"size":2617,"mtime":1601014380738,"results":"52","hashOfConfig":"40"},{"size":6792,"mtime":1601019147844,"results":"53","hashOfConfig":"40"},{"size":2967,"mtime":1601014254956,"results":"54","hashOfConfig":"40"},{"size":7331,"mtime":1601014468319,"results":"55","hashOfConfig":"40"},{"size":466,"mtime":1608795211404,"results":"56","hashOfConfig":"40"},{"size":663,"mtime":1608804560888,"results":"57","hashOfConfig":"40"},{"size":819,"mtime":1608795178793,"results":"58","hashOfConfig":"40"},{"size":439,"mtime":1608795269804,"results":"59","hashOfConfig":"40"},{"size":348,"mtime":1592624276517,"results":"60","hashOfConfig":"40"},{"size":922,"mtime":1592625869719,"results":"61","hashOfConfig":"40"},{"size":549,"mtime":1592536640954,"results":"62","hashOfConfig":"40"},{"size":195,"mtime":1592376648751,"results":"63","hashOfConfig":"40"},{"size":195,"mtime":1592291711438,"results":"64","hashOfConfig":"40"},{"size":1563,"mtime":1608793548627,"results":"65","hashOfConfig":"40"},{"size":594,"mtime":1608628876235,"results":"66","hashOfConfig":"40"},{"size":447,"mtime":1608628876175,"results":"67","hashOfConfig":"40"},{"size":1100,"mtime":1592384646855,"results":"68","hashOfConfig":"40"},{"size":420,"mtime":1608628876206,"results":"69","hashOfConfig":"40"},{"size":470,"mtime":1608792129519,"results":"70","hashOfConfig":"40"},{"size":3270,"mtime":1609235227727,"results":"71","hashOfConfig":"40"},{"size":6002,"mtime":1609237426762,"results":"72","hashOfConfig":"40"},{"size":1881,"mtime":1609148350575,"results":"73","hashOfConfig":"40"},{"size":799,"mtime":1608691792065,"results":"74","hashOfConfig":"40"},{"size":1083,"mtime":1609212175839,"results":"75","hashOfConfig":"40"},{"size":2626,"mtime":1609216897668,"results":"76","hashOfConfig":"40"},{"size":1042,"mtime":1608691603905,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"y4dacz",{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"80"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"96","usedDeprecatedRules":"80"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"80"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"113","usedDeprecatedRules":"80"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"116","usedDeprecatedRules":"80"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"119","messages":"120","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"121","usedDeprecatedRules":"80"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"80"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"151","messages":"152","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"153","messages":"154","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"D:\\github\\fullstack\\react-fe\\src\\index.js",[],["163","164"],"D:\\github\\fullstack\\react-fe\\src\\Navbar.js",[],"D:\\github\\fullstack\\react-fe\\src\\serviceWorker.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Files.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\HomeService.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Home.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Auth.js",["165"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport AuthService from \"services/AuthService\";\n\nexport function Login() {\n  const [userName, setUserName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const history = useHistory();\n\n  function changeUserName(e) {\n    setUserName(e.target.value);\n  }\n  function changePassword(e) {\n    setPassword(e.target.value);\n  }\n  async function login() {\n    await AuthService.login({\n      username: userName,\n      pwd: password,\n    }).then(() => {\n      history.push(\"/login-after\");\n    });\n  }\n\n  return (\n    <table>\n      <tr>\n        <td>user name:</td>\n        <td>\n          <input type=\"text\" onChange={changeUserName} placeholder=\"user\" />\n        </td>\n      </tr>\n      <tr>\n        <td>password:</td>\n        <td>\n          <input type=\"text\" onChange={changePassword} placeholder=\"pwd\" />\n        </td>\n      </tr>\n      <tr>\n        <td></td>\n        <td>\n          <input type=\"button\" onClick={login} value=\"Login\" />\n        </td>\n      </tr>\n    </table>\n  );\n}\n\nexport function LoginAfter() {\n  const [NameServer, setNameServer] = useState(\"\");\n  const [RoleServer, setRoleServer] = useState(\"\");\n  const [NameClient, setNameClient] = useState(\"\");\n  const [RoleClient, setRoleClient] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!AuthService.checkLogin()) {\n      history.push(\"/login\");\n      return;\n    }\n\n    (async () => {\n      let auth = await AuthService.getJWTFromServer();\n      setNameServer(auth.data.username);\n      setRoleServer(auth.data.role);\n    })();\n\n    let local = AuthService.getJWTFromClient();\n    setNameClient(local.username);\n    setRoleClient(local.role);\n  });\n\n  return (\n    <table>\n      <tr>\n        <td>Name Server:</td>\n        <td>{NameServer} </td>\n      </tr>\n      <tr>\n        <td>Role Server:</td>\n        <td>{RoleServer}</td>\n      </tr>\n      <tr>\n        <td>Name Client:</td>\n        <td>{NameClient} </td>\n      </tr>\n      <tr>\n        <td>Role Client:</td>\n        <td>{RoleClient}</td>\n      </tr>\n    </table>\n  );\n}\n","D:\\github\\fullstack\\react-fe\\src\\components\\Error.js",["166"],"import React from \"react\";\nimport ErrService from \"services/ErrorService\";\n\nexport default function Error() {\n  function getErr() {\n    ErrService.get()\n      .then((m) => {\n        let v = m;\n      })\n      .catch(function (error) {\n        if (error.response) {\n          alert(JSON.stringify(error.response.data));\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.log(error.response.data);\n          console.log(error.response.status);\n          console.log(error.response.headers);\n        } else if (error.request) {\n          // The request was made but no response was received\n          // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n          // http.ClientRequest in node.js\n          console.log(error.request);\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.log(\"Error\", error.message);\n        }\n        console.log(error.config);\n      });\n  }\n\n  async function getErrAsync() {\n    await ErrService.getAsync();\n  }\n\n  return (\n    <>\n      <button onClick={getErr}>normal</button>\n      <button onClick={getErrAsync}>async</button>\n    </>\n  );\n}\n","D:\\github\\fullstack\\react-fe\\src\\components\\User\\User.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\User.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\App.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\api.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\User\\UserList.js",["167","168","169"],"import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { rootPath } from \"./User\";\nimport UserService from \"services/UserService\";\nimport { IMG_URL } from \"services/api\";\nimport BaseComponent from \"components/Base\";\n\nclass UserList extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = { list: [], keyWord: \"\" };\n    this.getList = this.getList.bind(this);\n    this.queryList = this.queryList.bind(this);\n    // this.delete = this.delete.bind(this);\n    // this.handleInputChange = this.handleInputChange.bind(this);\n    // this.getList();\n  }\n\n  componentDidMount() {\n    (async () => {\n      await this.getList();\n    })();\n  }\n\n  async getList() {\n    let res = await UserService.get();\n    this.setState((state) => ({\n      list: res.data,\n    }));\n  }\n\n  async queryList() {\n    let res = await UserService.getQuery(this.state.keyWord);\n    this.setState((state) => ({\n      list: res.data,\n    }));\n  }\n\n  async delete(id) {\n    let res = await UserService.delete(id);\n\n    if (this.state.keyWord != \"\") {\n      await this.queryList();\n    } else {\n      await this.getList();\n    }\n  }\n\n  create() {\n    this.props.history.push(`/${rootPath}/0`);\n  }\n\n  render() {\n    return (\n      <>\n        <input\n          name=\"keyWord\"\n          type=\"text\"\n          value={this.state.keyWord}\n          onChange={this.handleInputChange}\n        />\n        <button onClick={this.queryList}>query</button>\n        <br />\n        <button onClick={() => this.create()}>create</button>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>id</th>\n              <th>name</th>\n              <th>hight</th>\n              <th>birthday</th>\n              <th>photo</th>\n              <th>edit</th>\n              <th>del</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.list.map((item) => (\n              <tr>\n                <td>{item.id}</td>\n                <td>{item.name}</td>\n                <td>{item.hight}</td>\n                <td>{item.birthday}</td>\n                <td>\n                  {item.photo && (\n                    <img height=\"50\" src={`${IMG_URL}/img/${item.photo}`} />\n                  )}\n                </td>\n                <td>\n                  <Link to={`/${rootPath}/${item.id}`}>read</Link>\n                </td>\n                <td>\n                  <button onClick={() => this.delete(item.id)}>del</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n\nexport default withRouter(UserList);\n","D:\\github\\fullstack\\react-fe\\src\\components\\User\\UserSingle.js",["170"],"import React from \"react\";\nimport { rootPath } from \"./User\";\nimport { withRouter } from \"react-router-dom\";\nimport UserService from \"services/UserService\";\nimport DeptService from \"services/DeptService\";\nimport ProjService from \"services/ProjService\";\nimport BaseComponent from \"components/Base\";\nimport { IMG_URL } from \"services/api\";\n\nfunction SelectList(props) {\n  return (\n    <select name={props.name} value={props.value} onChange={props.onChange}>\n      <option value=\"\">請選擇</option>\n      {props.list &&\n        props.list.map((item) => (\n          <option value={item.value}>{item.name}</option>\n        ))}\n    </select>\n  );\n}\n\nclass UserSingle extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      row: {\n        // id: null,\n        name: null,\n        hight: null,\n        dept: 0,\n        projs: null,\n        photo: null,\n        birthday: null,\n      },\n      photo: null,\n      photoFile: null,\n    };\n    this.selectProjAll = this.selectProjAll.bind(this);\n    this.changeProj = this.changeProj.bind(this);\n    this.getFile = this.getFile.bind(this);\n    this.read = this.read.bind(this);\n    if (this.props.id > 0) {\n      this.read(this.props.id);\n    }\n  }\n  // componentDidMount() {\n  //   if (this.props.id > 0) {\n  //     this.read(this.props.id);\n  //   }\n  // }\n\n  read(id) {\n    UserService.getSingle(id).then((m) => {\n      this.setState((state) => ({\n        row: m.data,\n        photo: m.data.photo,\n      }));\n    });\n  }\n\n  selectProjAll(e) {\n    let checked = e.target.checked;\n    let projs = [];\n    if (checked) {\n      projs = this.props.projs.map((m) => m.value);\n    }\n    let row = this.state.row;\n    row.projs = projs;\n    this.setState((state) => ({\n      row: row,\n    }));\n  }\n\n  changeProj(e) {\n    let projs = [];\n    if (this.state.row.projs) {\n      projs = [...this.state.row.projs];\n    }\n\n    let v = parseInt(e.target.value);\n    let index = projs.indexOf(v);\n    if (e.target.checked) {\n      if (index < 0) {\n        projs.push(v);\n      }\n    } else {\n      if (index > -1) {\n        projs.splice(index, 1);\n      }\n    }\n\n    let row = this.state.row;\n    row.projs = projs;\n    this.setState((state) => ({\n      row: row,\n    }));\n  }\n\n  async save() {\n    let row = this.state.row;\n    row.id = parseInt(this.props.id);\n\n    if (this.state.photoFile) {\n      await UserService.upload(this.state.photoFile).then((m) => {\n        row.photo = m.data;\n      });\n    }\n\n    if (row.id > 0) {\n      await UserService.put(row);\n    } else {\n      await UserService.post(row);\n    }\n    this.props.onBack();\n  }\n\n  getFile(e) {\n    //let files:FileList = e.target.value;\n    let files = e.target.files;\n    this.setState((state) => ({\n      photoFile: files[0],\n    }));\n  }\n\n  render() {\n    return (\n      <>\n        <table>\n          <tbody>\n            <tr>\n              <th>id</th>\n              <td>{this.props.id > 0 && this.props.id}</td>\n            </tr>\n            <tr>\n              <th>name</th>\n              <td>\n                <input\n                  name=\"row.name\"\n                  type=\"text\"\n                  value={this.state.row.name}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>hight</th>\n              <td>\n                <input\n                  name=\"row.hight\"\n                  type=\"number\"\n                  value={this.state.row.hight}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>birthday</th>\n              <td>\n                <input\n                  name=\"row.birthday\"\n                  type=\"date\"\n                  value={this.state.row.birthday}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>dept</th>\n              <td>\n                <SelectList\n                  name=\"row.dept\"\n                  list={this.props.depts}\n                  value={this.state.row.dept}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>\n                proj\n                <input type=\"checkbox\" onChange={this.selectProjAll} />\n              </th>\n              <td>\n                {this.props.projs &&\n                  this.props.projs.map((item) => (\n                    <span>\n                      <label>\n                        <input\n                          type=\"checkbox\"\n                          onChange={this.changeProj}\n                          checked={\n                            this.state.row.projs &&\n                            -1 !== this.state.row.projs.indexOf(item.value)\n                          }\n                          value={item.value}\n                        />\n                        {item.name}\n                      </label>\n                    </span>\n                  ))}\n              </td>\n            </tr>\n            <tr>\n              <th>photo</th>\n              <td>\n                {this.state.photo && (\n                  <img\n                    height=\"200\"\n                    src={`${IMG_URL}/img/${this.state.photo}`}\n                  />\n                )}\n                <input type=\"file\" onChange={this.getFile} />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button onClick={() => this.save()}>save</button>\n        <button onClick={() => this.props.onBack()}>back</button>\n      </>\n    );\n  }\n}\n\nclass UserSingleDisplay extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { depts: null, projs: null };\n    this.onBack = this.onBack.bind(this);\n\n    (async () => {\n      let depts = await DeptService.get();\n      this.setState({\n        depts: depts.data.map((m) => {\n          let item = {\n            value: m.id,\n            name: m.name,\n          };\n          return item;\n        }),\n      });\n\n      let projs = await ProjService.get();\n      this.setState({\n        projs: projs.data.map((m) => {\n          let item = {\n            value: m.id,\n            name: m.name,\n            checked: false,\n          };\n          return item;\n        }),\n      });\n    })();\n  }\n\n  onBack() {\n    this.props.history.push(\"/\" + rootPath);\n    // this.props.history.goBack();\n    //return <Redirect to={\"/\" + rootPath} />;\n    // return <Redirect to=\"/user\" />;\n  }\n\n  render() {\n    const id = this.props.match.params.id;\n    return (\n      <UserSingle\n        id={id}\n        depts={this.state.depts}\n        projs={this.state.projs}\n        onBack={this.onBack}\n      />\n    );\n  }\n}\n\nexport default withRouter(UserSingleDisplay);\n","D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\UserList.js",["171","172","173","174","175"],"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { rootPath } from \"./User\";\nimport UserService from \"services/UserService\";\nimport { IMG_URL } from \"services/api\";\nimport BaseComponent from \"components/Base\";\n\nclass UserList extends BaseComponent {\n  constructor(props) {\n    super(props);\n    this.state = { list: [], keyWord: \"\" };\n    this.getList = this.getList.bind(this);\n    this.queryList = this.queryList.bind(this);\n    // this.delete = this.delete.bind(this);\n    // this.handleInputChange = this.handleInputChange.bind(this);\n    // this.getList();\n    this.reloadList = this.reloadList.bind(this);\n  }\n\n  componentDidMount() {\n    (async () => {\n      await this.getList();\n    })();\n  }\n\n  componentDidUpdate(prevProps) {\n    const willUpdate = this.props.id !== prevProps.id && this.props.id == -1;\n    if (!willUpdate) {\n      return;\n    }\n    (async () => {\n      await this.reloadList();\n    })();\n  }\n\n  async getList() {\n    let res = await UserService.get();\n    this.setState((state) => ({\n      list: res.data,\n    }));\n  }\n\n  async queryList() {\n    let res = await UserService.getQuery(this.state.keyWord);\n    this.setState((state) => ({\n      list: res.data,\n    }));\n  }\n\n  async reloadList() {\n    if (this.state.keyWord != \"\") {\n      await this.queryList();\n    } else {\n      await this.getList();\n    }\n  }\n\n  async delete(id) {\n    let res = await UserService.delete(id);\n    await this.reloadList();\n  }\n\n  create() {\n    this.props.loadSingle(0);\n  }\n\n  loadSingle(id) {\n    this.props.loadSingle(id);\n  }\n\n  render() {\n    return (\n      <>\n        <input\n          name=\"keyWord\"\n          type=\"text\"\n          value={this.state.keyWord}\n          onChange={this.handleInputChange}\n        />\n        <button onClick={this.queryList}>query</button>\n        <br />\n        <button onClick={() => this.create()}>create</button>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th>id</th>\n              <th>name</th>\n              <th>hight</th>\n              <th>birthday</th>\n              <th>photo</th>\n              <th>edit</th>\n              <th>del</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.list.map((item) => (\n              <tr>\n                <td>{item.id}</td>\n                <td>{item.name}</td>\n                <td>{item.hight}</td>\n                <td>{item.birthday}</td>\n                <td>\n                  {item.photo && (\n                    <img height=\"50\" src={`${IMG_URL}/img/${item.photo}`} />\n                  )}\n                </td>\n                <td>\n                  <Link onClick={() => this.loadSingle(item.id)}>read</Link>\n                </td>\n                <td>\n                  <button onClick={() => this.delete(item.id)}>del</button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </>\n    );\n  }\n}\n\nexport default UserList;\n","D:\\github\\fullstack\\react-fe\\src\\components\\UserPlus\\UserSingle.js",["176","177"],"import React from \"react\";\nimport UserService from \"services/UserService\";\nimport BaseComponent from \"components/Base\";\nimport { IMG_URL } from \"services/api\";\n\nfunction SelectList(props) {\n  return (\n    <select name={props.name} value={props.value} onChange={props.onChange}>\n      <option value=\"\">請選擇</option>\n      {props.list &&\n        props.list.map((item) => (\n          <option value={item.value}>{item.name}</option>\n        ))}\n    </select>\n  );\n}\n\nclass UserRow {\n  get name() {\n    if (this._name !== undefined) {\n      return this._name;\n    } else {\n      return \"\";\n    }\n  }\n  set name(value) {\n    this._name = value;\n  }\n\n  get hight() {\n    if (this._hight !== undefined) {\n      return this._hight;\n    } else {\n      return \"\";\n    }\n  }\n  set hight(value) {\n    this._hight = value;\n  }\n\n  get dept() {\n    if (this._dept !== undefined) {\n      return this._dept;\n    } else {\n      return 0;\n    }\n  }\n  set dept(value) {\n    this._dept = value;\n  }\n\n  get projs() {\n    if (this._projs !== undefined) {\n      return this._projs;\n    } else {\n      return [];\n    }\n  }\n  set projs(value) {\n    this._projs = value;\n  }\n\n  get photo() {\n    if (this._photo !== undefined) {\n      return this._photo;\n    } else {\n      return \"\";\n    }\n  }\n  set photo(value) {\n    this._photo = value;\n  }\n\n  get birthday() {\n    if (this._birthday !== undefined) {\n      return this._birthday;\n    } else {\n      return \"\";\n    }\n  }\n  set birthday(value) {\n    this._birthday = value;\n  }\n\n  toJSON() {\n    return {\n      name: this.name,\n      hight: this.hight,\n      dept: this.dept,\n      projs: this.projs,\n      photo: this.photo,\n      birthday: this.birthday,\n    };\n  }\n}\n\nclass UserSingle extends BaseComponent {\n  constructor(props) {\n    super(props);\n    let user = new UserRow();\n    this.state = {\n      row: user,\n      // row: {\n      //   // id: null,\n      //   name: null,\n      //   hight: null,\n      //   dept: 0,\n      //   projs: [],\n      //   photo: null,\n      //   birthday: null,\n      // },\n      photoFile: null,\n    };\n    this.selectProjAll = this.selectProjAll.bind(this);\n    this.changeProj = this.changeProj.bind(this);\n    this.getFile = this.getFile.bind(this);\n    this.read = this.read.bind(this);\n    this.default = this.default.bind(this);\n  }\n  componentDidMount() {\n    if (this.props.id > 0) {\n      this.read(this.props.id);\n    }\n  }\n  // shouldComponentUpdate(nextProps, nextState, nextContext) {\n  //   return true;\n  // }\n  componentDidUpdate(prevProps) {\n    const willUpdate = this.props.id !== prevProps.id;\n    if (!willUpdate) {\n      return;\n    }\n    if (this.props.id > 0) {\n      this.read(this.props.id);\n    } else if (this.props.id == 0) {\n      this.default();\n    }\n  }\n\n  default() {\n    let user = new UserRow();\n    this.setState((state) => ({\n      row: user,\n      // row: {\n      //   // id: null,\n      //   name: \"\",\n      //   hight: \"\",\n      //   dept: 0,\n      //   projs: [],\n      //   photo: \"\",\n      //   birthday: \"\",\n      // },\n    }));\n  }\n\n  read(id) {\n    UserService.getSingle(id).then((m) => {\n      this.setState((state) => ({\n        row: m.data,\n      }));\n    });\n  }\n\n  selectProjAll(e) {\n    let checked = e.target.checked;\n    let projs = [];\n    if (checked) {\n      projs = this.props.projs.map((m) => m.value);\n    }\n    let row = this.state.row;\n    row.projs = projs;\n    this.setState((state) => ({\n      row: row,\n    }));\n  }\n\n  changeProj(e) {\n    let projs = [];\n    if (this.state.row.projs) {\n      projs = [...this.state.row.projs];\n    }\n\n    let v = parseInt(e.target.value);\n    let index = projs.indexOf(v);\n    if (e.target.checked) {\n      if (index < 0) {\n        projs.push(v);\n      }\n    } else {\n      if (index > -1) {\n        projs.splice(index, 1);\n      }\n    }\n\n    let row = this.state.row;\n    row.projs = projs;\n    this.setState((state) => ({\n      row: row,\n    }));\n  }\n\n  async save() {\n    let row = this.state.row;\n    // row.id = parseInt(this.props.id);\n    row.id = this.props.id;\n\n    if (this.state.photoFile) {\n      await UserService.upload(this.state.photoFile).then((m) => {\n        row.photo = m.data;\n      });\n    }\n\n    if (row.id > 0) {\n      await UserService.put(row);\n    } else {\n      await UserService.post(row);\n    }\n    this.props.onBack();\n  }\n\n  getFile(e) {\n    let files = e.target.files;\n    this.setState((state) => ({\n      photoFile: files[0],\n    }));\n  }\n\n  render() {\n    return (\n      <>\n        <table>\n          <tbody>\n            <tr>\n              <th>id</th>\n              <td>{this.props.id > 0 && this.props.id}</td>\n            </tr>\n            <tr>\n              <th>name</th>\n              <td>\n                <input\n                  name=\"row.name\"\n                  type=\"text\"\n                  value={this.state.row.name}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>hight</th>\n              <td>\n                <input\n                  name=\"row.hight\"\n                  type=\"number\"\n                  value={this.state.row.hight}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>birthday</th>\n              <td>\n                <input\n                  name=\"row.birthday\"\n                  type=\"date\"\n                  value={this.state.row.birthday}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>dept</th>\n              <td>\n                <SelectList\n                  name=\"row.dept\"\n                  list={this.props.depts}\n                  value={this.state.row.dept}\n                  onChange={this.handleInputChange}\n                />\n              </td>\n            </tr>\n            <tr>\n              <th>\n                proj\n                <input type=\"checkbox\" onChange={this.selectProjAll} />\n              </th>\n              <td>\n                {this.props.projs &&\n                  this.props.projs.map((item) => (\n                    <span>\n                      <label>\n                        <input\n                          type=\"checkbox\"\n                          onChange={this.changeProj}\n                          checked={\n                            this.state.row.projs &&\n                            -1 !== this.state.row.projs.indexOf(item.value)\n                          }\n                          value={item.value}\n                        />\n                        {item.name}\n                      </label>\n                    </span>\n                  ))}\n              </td>\n            </tr>\n            <tr>\n              <th>photo</th>\n              <td>\n                {this.state.row.photo && (\n                  <img\n                    height=\"200\"\n                    src={`${IMG_URL}/img/${this.state.row.photo}`}\n                  />\n                )}\n                <input type=\"file\" onChange={this.getFile} />\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <button onClick={() => this.save()}>save</button>\n        <button onClick={() => this.props.onBack()}>back</button>\n      </>\n    );\n  }\n}\n\nexport default UserSingle;\n","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Footer.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\AddTodo.js",["178"],"import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { addTodo } from \"stores/Todos/actions\";\r\nimport { useDispatch } from \"stores/index\";\r\n\r\nconst AddTodo = () => {\r\n  const dispatch = useDispatch();\r\n  let input;\r\n\r\n  return (\r\n    <div>\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          if (!input.value.trim()) {\r\n            return;\r\n          }\r\n          dispatch(addTodo(input.value));\r\n          input.value = \"\";\r\n        }}\r\n      >\r\n        <input ref={(node) => (input = node)} />\r\n        <button type=\"submit\">Add Todo</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTodo;\r\n","D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\VisibleTodoList.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\containers\\FilterLink.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\ErrorService.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\AuthService.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\FileService.js",["179"],"import { apiFilePost, apiFile2Post, apiFilesPost, apiUserPost } from \"./api\";\nexport default class FileService {\n  static async uploadFile(data) {\n    try {\n      return await apiFilePost(data);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  static async uploadFile2(file1, file2) {\n    try {\n      return await apiFile2Post(file1, file2);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n  static async uploadFiles(data) {\n    try {\n      return await apiFilesPost(data);\n    } catch (err) {\n      console.error(err);\n    }\n  }\n}\n","D:\\github\\fullstack\\react-fe\\src\\services\\DeptService.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\ProjService.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Base.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\TodoList.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Link.js",[],"D:\\github\\fullstack\\react-fe\\src\\services\\UserService.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\Todos\\Todo.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\User.js",[],"D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\UserList.js",["180"],"D:\\github\\fullstack\\react-fe\\src\\components\\UserRedux\\UserSingle.js",["181","182","183","184","185"],"D:\\github\\fullstack\\react-fe\\src\\stores\\index.js",[],"D:\\github\\fullstack\\react-fe\\src\\stores\\Todos\\reducer.js",[],"D:\\github\\fullstack\\react-fe\\src\\stores\\User\\reducer.js",[],"D:\\github\\fullstack\\react-fe\\src\\stores\\User\\actions.js",[],"D:\\github\\fullstack\\react-fe\\src\\stores\\Todos\\actions.js",[],{"ruleId":"186","replacedBy":"187"},{"ruleId":"188","replacedBy":"189"},{"ruleId":"190","severity":1,"message":"191","line":56,"column":3,"nodeType":"192","endLine":56,"endColumn":12,"suggestions":"193"},{"ruleId":"194","severity":1,"message":"195","line":8,"column":13,"nodeType":"192","messageId":"196","endLine":8,"endColumn":14},{"ruleId":"194","severity":1,"message":"197","line":40,"column":9,"nodeType":"192","messageId":"196","endLine":40,"endColumn":12},{"ruleId":"198","severity":1,"message":"199","line":42,"column":28,"nodeType":"200","messageId":"201","endLine":42,"endColumn":30},{"ruleId":"202","severity":1,"message":"203","line":86,"column":21,"nodeType":"204","endLine":86,"endColumn":77},{"ruleId":"202","severity":1,"message":"203","line":207,"column":19,"nodeType":"204","endLine":210,"endColumn":21},{"ruleId":"194","severity":1,"message":"205","line":3,"column":10,"nodeType":"192","messageId":"196","endLine":3,"endColumn":18},{"ruleId":"198","severity":1,"message":"206","line":27,"column":72,"nodeType":"200","messageId":"201","endLine":27,"endColumn":74},{"ruleId":"198","severity":1,"message":"199","line":51,"column":28,"nodeType":"200","messageId":"201","endLine":51,"endColumn":30},{"ruleId":"194","severity":1,"message":"197","line":59,"column":9,"nodeType":"192","messageId":"196","endLine":59,"endColumn":12},{"ruleId":"202","severity":1,"message":"203","line":104,"column":21,"nodeType":"204","endLine":104,"endColumn":77},{"ruleId":"198","severity":1,"message":"206","line":135,"column":30,"nodeType":"200","messageId":"201","endLine":135,"endColumn":32},{"ruleId":"202","severity":1,"message":"203","line":310,"column":19,"nodeType":"204","endLine":313,"endColumn":21},{"ruleId":"194","severity":1,"message":"207","line":2,"column":10,"nodeType":"192","messageId":"196","endLine":2,"endColumn":17},{"ruleId":"194","severity":1,"message":"208","line":1,"column":51,"nodeType":"192","messageId":"196","endLine":1,"endColumn":62},{"ruleId":"190","severity":1,"message":"209","line":17,"column":6,"nodeType":"210","endLine":17,"endColumn":8,"suggestions":"211"},{"ruleId":"194","severity":1,"message":"212","line":1,"column":17,"nodeType":"192","messageId":"196","endLine":1,"endColumn":25},{"ruleId":"194","severity":1,"message":"213","line":4,"column":8,"nodeType":"192","messageId":"196","endLine":4,"endColumn":19},{"ruleId":"194","severity":1,"message":"214","line":13,"column":10,"nodeType":"192","messageId":"196","endLine":13,"endColumn":20},{"ruleId":"190","severity":1,"message":"215","line":41,"column":6,"nodeType":"210","endLine":41,"endColumn":8,"suggestions":"216"},{"ruleId":"190","severity":1,"message":"217","line":60,"column":5,"nodeType":"210","endLine":60,"endColumn":17,"suggestions":"218"},"no-native-reassign",["219"],"no-negated-in-lhs",["220"],"react-hooks/exhaustive-deps","React Hook useEffect contains a call to 'setNameClient'. Without a list of dependencies, this can lead to an infinite chain of updates. To fix this, pass [history] as a second argument to the useEffect Hook.","Identifier",["221"],"no-unused-vars","'v' is assigned a value but never used.","unusedVar","'res' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'rootPath' is defined but never used.","Expected '===' and instead saw '=='.","'connect' is defined but never used.","'apiUserPost' is defined but never used.","React Hook useEffect has missing dependencies: 'dispatch' and 'keyword'. Either include them or remove the dependency array.","ArrayExpression",["222"],"'useState' is defined but never used.","'UserService' is defined but never used.","'SelectList' is defined but never used.","React Hook useEffect has missing dependencies: 'dispatch' and 'props.id'. Either include them or remove the dependency array.",["223"],"React Hook useEffect has missing dependencies: 'reset' and 'row'. Either include them or remove the dependency array. Outer scope values like 'store.user' aren't valid dependencies because mutating them doesn't re-render the component.",["224"],"no-global-assign","no-unsafe-negation",{"desc":"225","fix":"226"},{"desc":"227","fix":"228"},{"desc":"229","fix":"230"},{"desc":"231","fix":"232"},"Add dependencies array: [history]",{"range":"233","text":"234"},"Update the dependencies array to be: [dispatch, keyword]",{"range":"235","text":"236"},"Update the dependencies array to be: [dispatch, props.id]",{"range":"237","text":"238"},"Update the dependencies array to be: [reset, row]",{"range":"239","text":"240"},[1756,1756],", [history]",[623,625],"[dispatch, keyword]",[1120,1122],"[dispatch, props.id]",[1723,1735],"[reset, row]"]